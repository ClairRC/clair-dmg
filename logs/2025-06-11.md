# June 11th, 2025

So yesterday I said my goal was to get a working instruction loop, but I got super sidetracked today in attempting to implement several MBCs instead. Basically, those control what memory you are accessing and when, and how much memory the cartridge has, and all that fun stuff. This was very frustrating because they control SO much and there are so many weird edge cases with how they get treated. The annoying thing is that this all depends on the cartridge, not the GameBoy itself, so unless you implement every type of chip and its exact behavior, and include the weird edge cases and all that, its just not going to work 100% of the time. I ultimately opted to just implement a few of the common MBCs for now, and that structure should let me pretty easily expand down the road.

Anyway, ya, it wasn't a very fun process and I still need to finish that up. Once I actually read a bunch about the way it works on a hardware level it began to make SOME sense, but still, programming the specifics really makes me think, "Hey, is there REALLY not an easier way to do this?" And really, for the most part I am not so sure that there is... The goal is mostly to abstract all the annoying parts so that if I DO end up expanding to include all the weird and rarer chips as well, I can.

I think that for the MBCs I have implemented, I am at the point where it's just plug in the rules, but I think the way that will go is implementing a function to update the memory banking flags, and then just call that after each write. There is more weirdness to deal with like save data and real-time clock behavior, but that can wait till I get there. At the moment, I think that I have the knowledge and architecture to implement no MBC, MBC1, and MBC2. I am not sure if there is anything else I need for MBC3 and MBC5, but those are going to be the only ones I implement for now, because they should be sufficient for my purposes. Not to jinx it, but once I DO get the MBC behavior working for these chips, THEN I can run a ROM, at least one that uses one of those chips. So maybe that can be the goal for tomorrow. 
